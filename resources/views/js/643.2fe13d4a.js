"use strict";(self["webpackChunklast"]=self["webpackChunklast"]||[]).push([[643],{72643:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{staticClass:"header-solid mb-24",attrs:{bordered:!1,bodyStyle:{padding:0,paddingTop:"16px"}},scopedSlots:t._u([{key:"title",fn:function(){return[e("a-row",{attrs:{type:"flex",gutter:24}},[e("a-col",{attrs:{span:24,md:12}},[e("span",[t._v("موظفين المتجر ")])]),e("a-col",{attrs:{span:24,md:12}},[e("router-link",{staticClass:"font-bold text-dark",attrs:{to:"new"}},[e("a-icon",{attrs:{type:"plus"}}),t._v(" إضافة عضو")],1)],1)],1)]},proxy:!0}])}),e("a-card",{staticClass:"header-solid mb-24",attrs:{bordered:!1,bodyStyle:{padding:0,paddingTop:"16px"}}},[e("div",{staticClass:"mx-25"},[e("a-row",{attrs:{type:"flex",gutter:24}},[e("a-col",{attrs:{span:24,md:12}},[e("a-select",{staticStyle:{width:"70px"},on:{change:t.onPageSizeChange},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},[e("a-select-option",{attrs:{value:"5"}},[t._v("5")]),e("a-select-option",{attrs:{value:"10"}},[t._v("10")]),e("a-select-option",{attrs:{value:"15"}},[t._v("15")]),e("a-select-option",{attrs:{value:"20"}},[t._v("20")]),e("a-select-option",{attrs:{value:"25"}},[t._v("25")])],1),e("label",{staticClass:"ml-10",attrs:{for:""}},[t._v("entries per page")])],1),e("ExportExcelSheetVueJs",{attrs:{sheetData:t.dataSource,columns:t.columns1,filename:"aaaaaa",sheetname:"wwwwww"}},[t._v(" Download ")])],1)],1),e("a-table",{staticClass:"mt-20",attrs:{columns:t.columns,"data-source":t.dataSource,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"status",fn:function(a){return["ACTIVE"==a?e("a-button",{staticClass:"btn-status border-success mr-5",attrs:{shape:"circle",size:"small"}},[e("a-icon",{staticClass:"m-0 text-success",staticStyle:{"font-size":"10px"},attrs:{type:"check"}})],1):"DISABLED"==a?e("a-button",{staticClass:"btn-status border-muted mr-5",attrs:{shape:"circle",size:"small"}},[e("a-icon",{staticClass:"m-0 text-muted",staticStyle:{"font-size":"10px"},attrs:{type:"undo"}})],1):"Canceled"==a?e("a-button",{staticClass:"btn-status border-danger mr-5",attrs:{shape:"circle",size:"small"}},[e("a-icon",{staticClass:"m-0 text-danger",staticStyle:{"font-size":"10px"},attrs:{type:"close"}})],1):t._e(),e("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(a))])]}},{key:"id",fn:function(a){return[e("router-link",{staticClass:"font-bold text-dark mr-5 px-5 py-5",attrs:{to:"/admins/"+a,name:"edit"}},[e("a-icon",{attrs:{type:"edit"}})],1),e("a",{staticClass:"font-bold text-danger px-5 py-5",on:{click:function(e){return t.onDelete(a)}}},[e("a-icon",{attrs:{type:"delete"}})],1)]}}])})],1)],1)},n=[];const i=[{title:"الاسم",dataIndex:"display_name",sorter:(t,e)=>t.name.length-e.name.length,sortDirections:["desc","asc"]},{title:"اسم المستخدم",dataIndex:"user_login",sorter:(t,e)=>t.username.length-e.username.length,sortDirections:["desc","asc"]},{title:"البريد الإلكتروني",dataIndex:"user_email",sortDirections:["desc","asc"],sorter:!0},{title:"PHONE",dataIndex:"phone[0].meta_value",sorter:!0,sortDirections:["desc","asc"]},{title:"STATUS",dataIndex:"user_status",sorter:!0,sortDirections:["desc","asc"],scopedSlots:{customRender:"status"}},{title:"ACTIONS",dataIndex:"ID",sorter:!1,scopedSlots:{customRender:"id"}}];var o={name:"admin_index",components:{},data(){return{columns1:[{label:"Student Name",field:"display_name"},{label:"Registration Number / PRN",field:"regno"}],data:[{studentName:"Dhanesh Pawar",regno:10},{studentName:"Student two name",regno:30}],dataSource:[],pageSize:5,pagination:{current:0,pageSize:5},columns:i,loading:!1,selectedRowKeys:[]}},methods:{onPageSizeChange(){this.pagination.pageSize=parseInt(this.pageSize),this.fetch()},handleTableChange(t,e,a){this.pagination={...this.pagination,current:t.current},this.fetch({pageSize:t.pageSize,page:t.current,sortField:a.field,sortOrder:a.order,...e})},async fetch(t={}){this.loading=!0;let e="";await axios({url:"/admin/manager?page="+this.pagination.current+"&limit="+this.pagination.pageSize+"&sort[column]="+(t.sortField||"id")+"&sort[order]="+(t.sortOrder||"asc")+e,method:"GET"}).then((t=>{this.loading=!1,t=t.data.data,console.log(t),this.dataSource=t.data,this.pagination={...this.pagination,total:t.total,current:t.current_page}}),(t=>{console.log(t)}))},async onDelete(t){this.$swal({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete",closeOnCancel:!0}).then((e=>{e.isConfirmed&&(this.loading=!0,axios({url:"/manager/"+t,method:"DELETE"}).then((t=>{this.$swal("Deleted!","success"),this.loading=!0,this.fetch()})).catch((t=>{this.loading=!1,this.$swal("Failed!",t.response.data.message,"danger")})))}))}},mounted(){this.fetch()}},r=o,l=a(1001),c=(0,l.Z)(r,s,n,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=643.2fe13d4a.js.map